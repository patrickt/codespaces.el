#+TITLE: codespaces.el

This package provides support for connecting to [[https://github.com/features/codespaces][GitHub Codespaces]] in Emacs via [[https://www.gnu.org/software/tramp/][TRAMP]]. It provides a handy ~completing-read~ UI that lets you choose from all your created codespaces. Here's a screenshot (running with [[https://github.com/minad/vertico][vertico]]):

[[./screenshot.png]]

Here is an example ~use-package~ declaration (though it won't work until I stick this on MELPA):

#+begin_src emacs-lisp
  (use-package codespaces
    :config (codespaces-setup)
    :bind ("C-c S" . #'codespaces-connect))
#+end_src

You will need to have the GitHub [[https://cli.github.com][command line tools]] (~gh~) installed. If you use ~use-package-ensure-system-package~, Emacs can install them for you automatically:

#+begin_src emacs-lisp
  (use-package use-package-ensure-system-package :ensure t)
  (use-package codespaces
    :ensure-system-package gh
    :config (codespaces-setup))
#+end_src

* User-facing commands

- ~codespaces-connect~ brings up a list of codespaces, and upon selection opens a Dired buffer in ~/workspaces~ (the default Codespaces location).

* Missing features

- Should ensure that ~gh codespace list~ works okay.
- Should warn when trying to connect to a non-started codespace, and if so then start the codespace out-of-band before entering TRAMP, as otherwise we hit timeouts.
- Completion should sort codespaces by most-recently-used.
- A ~codespace-activate~ command to start inactive codespaces.
- There should be ~dtache~ support to activate codespaces without freezing the Emacs UI.

* Credits

Thanks to [[https://github.com/anticomputer][Bas Alberts]] for writing the code to register ~ghcs~ as a valid TRAMP connection method.

* License

GPL3.
